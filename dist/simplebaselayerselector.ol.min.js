!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t){e.exports='<div id="contenedor-selector-baselayer" class="m-control m-container m-test">\n  <div id="baseLayer-content">\n    <img id="selectedBaseLayer" class="m-selector-baselayer-selected-image" src="{{selectedLayerLegendURL}}" alt="{{selectedLayerLegend}}" title="{{selectedLayerLegend}}" name="{{selectedLayerName}}">\n  </div>\n  <div id="contenedor-baseLayer-layers">\n    {{#each layers}}\n      {{#if @first}}\n      <div id="{{this.name}}" class="m-selector-baselayer-layers-content">\n        <img class="m-selector-baselayer-layers-image-seleccionada" src="{{this.impl_.legendUrl_}}" alt="{{this.legend}}" title="{{this.legend}}" name="{{this.name}}">\n      </div>\n      {{else}}\n    <div id="{{this.name}}" class="m-selector-baselayer-layers-content">\n      <img class="m-selector-baselayer-layers-image" src="{{this.impl_.legendUrl_}}" alt="{{this.legend}}" title="{{this.legend}}" name="{{this.name}}">\n    </div>\n    {{/if}}\n   {{/each}}\n  </div>\n</div>'},function(e){e.exports=JSON.parse('{"url":{"name":"Simplebaselayerselector","separator":"*"},"constructor":"M.plugin.Simplebaselayerselector","parameters":[],"files":{"ol":{"scripts":["simplebaselayerselector.ol.min.js"],"styles":["simplebaselayerselector.ol.min.css"]}},"metadata":{"uuid_plugin":"","uuid_version_plugin":"","version_ficha_metadatos":"","name":"Simplebaselayerselector","description":"Selector de Capas Base","text":"Permite seleccionar capas base de una manera simple sin layerSwitcher","version":"1.0.0","date":"Septiembre, 2021","author":"Emilio Pardo, Enrique Monreal","org":"","tags":"mapea,plugin","icon":"./facade/assets/icons/icons.svg","buttons":[{"title":"","description":"","querySelector":""},{"title":"","description":"","querySelector":""}],"dependencies":{"modules":["",""],"plugins":[{"uuid":"","name":""}],"services":[{"name":"","description":""}]},"compatibility":["6.0.0"]}}')},function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(2);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(y,M.impl.Control);var t,n,r,c=s(y);function y(){return o(this,y),c.apply(this,arguments)}return t=y,(n=[{key:"addTo",value:function(e,t){var n=this;e.getMapImpl().getInteractions().forEach((function(e){e instanceof ol.interaction.DoubleClickZoom&&(n.dblClickInteraction_=e)})),l(u(y.prototype),"addTo",this).call(this,e,t)}}])&&a(t.prototype,n),r&&a(t,r),y}(),f=n(0),d=n.n(f);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=w(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(a,M.Control);var t,n,r,o=g(a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),M.utils.isUndefined(y)&&M.exception("La implementaciÃ³n usada no puede crear controles SimplebaselayerselectorControl");var n=new y;return(t=o.call(this,n,"Simplebaselayerselector")).template=d.a,t.templateVars="",t.config=e,t.config?t.displayBaseLayersInLayerSwitcher=t.config.displayBaseLayersInLayerSwitcher:t.displayBaseLayersInLayerSwitcher=!1,t}return t=a,(n=[{key:"createView",value:function(e){var t=this;return new Promise((function(e,n){var r=M.template.compileSync(t.template,t.templateVars);t.element=r,t.addEvents(r),e(r),t.map_.on(M.evt.COMPLETED,(function(){t.setConfig()})),t.map_.on(M.evt.CHANGE_WMC,(function(){t.setConfig()}))}))}},{key:"addEvents",value:function(e){var t=this;if(this.layerSelector=e.querySelector("div#contenedor-baseLayer-layers"),e.addEventListener("click",(function(){if("inline-block"!=t.layerSelector.style.display)t.layerSelector.animate([{width:"0px",height:"85px",left:"80px",offset:0},{width:76*t.layers.length+10+"px",height:"85px",left:"90px",offset:1}],{duration:200,easing:"ease",iterations:1}),setTimeout((function(){this.divImagenes=document.getElementsByClassName("m-selector-baselayer-layers-content");for(var e=0;e<this.divImagenes.length;e++)this.divImagenes[e].style.display="block"}),200),t.layerSelector.style.width=76*t.layers.length+10+"px",t.layerSelector.style.display="inline-block";else{t.layerSelector.animate([{width:76*t.layers.length+10+"px",height:"85px",left:"90px",offset:0},{width:"0px",height:"85px",left:"80px",offset:1}],{duration:200,easing:"ease",iterations:1}),t.divImagenes=document.getElementsByClassName("m-selector-baselayer-layers-content");for(var n=0;n<t.divImagenes.length;n++)t.divImagenes[n].style.display="none";setTimeout((function(){this.layerSelector=e.querySelector("div#contenedor-baseLayer-layers"),this.layerSelector.style.width="0px",this.layerSelector.style.display="none"}),200)}})),NodeList.prototype.addEventListener=function(e,t,n){for(var r=0;r<this.length;r++)this[r].addEventListener(e,t,n)},e.querySelectorAll("div.m-selector-baselayer-layers-content").addEventListener("mouseleave",(function(e){e.currentTarget.style.border="solid 2px #cdcdcd"})),e.querySelectorAll("div.m-selector-baselayer-layers-content").addEventListener("click",(function(e){var n=!1;do{for(var r=0;r<t.layers.length;r++)t.layers[r].name==e.target.name&&(t.selectLayer(t.layers[r]),n=!0)}while(!n)})),this.layerSelector.addEventListener("mouseover",(function(){t.layerSelector.style.display="inline-block"})),this.layerSelector.addEventListener("mouseleave",(function(){t.divImagenes=document.getElementsByClassName("m-selector-baselayer-layers-content");for(var e=0;e<t.divImagenes.length;e++)t.divImagenes[e].style.setProperty("display","none");t.layerSelector.style.display="none"})),this.map_.getControls({name:"scaleline"})){var n=document.getElementsByClassName("m-scaleline")[0];n.style.left="100px",n.style.bottom="10px",n.style.position="absolute"}}},{key:"activate",value:function(){h(w(a.prototype),"activate",this).call(this)}},{key:"deactivate",value:function(){h(w(a.prototype),"deactivate",this).call(this)}},{key:"getActivationButton",value:function(e){return e.querySelector(".m-simplebaselayerselector button")}},{key:"equals",value:function(e){return e instanceof a}},{key:"setConfig",value:function(){this.layers=this.map_.getBaseLayers(),this.baseLayers=new Array;for(var e=0;e<this.layers.length;e++){var t=this.layers[e];0==t.impl_.transparent&&this.baseLayers.push(t)}if(this.selectedLayer=this.baseLayers[0],this.selectedLayerImg=this.selectedLayer.impl_.legendUrl_,this.selectedLayerLegend=this.selectedLayer.legend,this.layerName=this.selectedLayer.name,0==this.displayBaseLayersInLayerSwitcher&&this.map_.getControls({name:"layerswitcher"}).length>0)for(var n=0;n<this.layers.length;n++)this.layers[n].displayInLayerSwitcher=!1;this.templateVars={vars:{selectedLayerLegend:this.selectedLayerLegend,selectedLayerLegendURL:this.selectedLayerImg,selectedLayerName:this.layerName,layers:this.baseLayers}},this.render()}},{key:"selectLayer",value:function(e){this.changeSelectedLayerStyle(event.target.name),document.getElementById("selectedBaseLayer").src=e.impl_.legendUrl_,document.getElementById("selectedBaseLayer").alt=e.legend,document.getElementById("selectedBaseLayer").title=e.legend,this.changeVisible(e.name),this.map_.getControls({name:"layerswitcher"}).length>0&&this.map_.getControls({name:"layerswitcher"})[0].render()}},{key:"render",value:function(){var e=this,t=M.template.compileSync(this.template,this.templateVars);this.element.children[0].innerHTML=t.children[0].innerHTML,this.element.children[1].innerHTML=t.children[1].innerHTML,this.map_.getControls({name:"layerswitcher"})&&this.displayBaseLayersInLayerSwitcher&&setTimeout((function(){document.getElementById("m-layerswitcher-panel").addEventListener("click",(function(t){var n=t.target;e.updateSelectedLayer(n.getAttribute("data-layer-name"))}))}),200),this.element.querySelectorAll("div.m-selector-baselayer-layers-content").addEventListener("click",(function(t){var n=!1;do{for(var r=0;r<e.layers.length;r++)e.layers[r].name==t.target.name&&(e.selectLayer(e.layers[r]),n=!0)}while(!n)}))}},{key:"changeVisible",value:function(e){for(var t=0;t<this.baseLayers.length;t++){var n=this.baseLayers[t];n.name==e?n.setVisible(!0):n.setVisible(!1)}}},{key:"changeSelectedLayerStyle",value:function(e){for(var t=document.getElementById("contenedor-baseLayer-layers").querySelectorAll("img"),n=0;n<t.length;n++){var r=t[n];r.name==e?r.className="m-selector-baselayer-layers-image-seleccionada":r.className="m-selector-baselayer-layers-image"}}},{key:"updateSelectedLayer",value:function(e){var t=!1;do{for(var n=0;n<this.layers.length;n++)this.layers[n].name==e&&(this.selectLayer(this.layers[n]),this.selectedLayer=this.layers[n],t=!0)}while(!t);document.getElementById("selectedBaseLayer").src=this.selectedLayer.impl_.legendUrl_,document.getElementById("selectedBaseLayer").alt=this.selectedLayer.legend,document.getElementById("selectedBaseLayer").title=this.selectedLayer.legend,this.changeSelectedLayerStyle(e)}}])&&m(t.prototype,n),r&&m(t,r),a}(),S=n(1);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=B(e);if(t){var o=B(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return j(this,n)}}function j(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(a,M.Plugin);var t,n,r,o=P(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this)).map_=null,t.config=e,t.controls_=[],t.metadata_=S.metadata,t}return t=a,(n=[{key:"addTo",value:function(e){var t=this;this.control_=new L(this.config),this.controls_.push(this.control_),this.map_=e,this.panel_=new M.ui.Panel("panelSimplebaselayerselector",{collapsible:!1,className:"m-selector-baselayer",position:M.ui.position.BL,collapsedButtonClass:"g-cartografia-flecha-izquierda",tooltip:"Seleciona Capa Base"}),this.panel_.addControls(this.controls_),e.addPanels(this.panel_),this.control_.on(M.evt.ADDED_TO_MAP,(function(){t.fire(M.evt.ADDED_TO_MAP)}))}},{key:"getMetadata",value:function(){return this.metadata_}}])&&O(t.prototype,n),r&&O(t,r),a}();window.M.plugin||(window.M.plugin={}),window.M.control||(window.M.control={}),window.M.impl||(window.M.impl={}),window.M.impl.control||(window.M.impl.control={}),window.M.plugin.Simplebaselayerselector=x,window.M.control.SimplebaselayerselectorControl=L,window.M.impl.control.SimplebaselayerselectorControl=y}]);
//# sourceMappingURL=simplebaselayerselector.ol.min.js.map